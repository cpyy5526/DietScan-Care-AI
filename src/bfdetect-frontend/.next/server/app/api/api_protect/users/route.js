(()=>{var e={};e.id=107,e.ids=[107],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},29021:e=>{"use strict";e.exports=require("fs")},33873:e=>{"use strict";e.exports=require("path")},36797:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>b,routeModule:()=>h,serverHooks:()=>g,workAsyncStorage:()=>w,workUnitAsyncStorage:()=>E});var a={};t.r(a),t.d(a,{DELETE:()=>p,GET:()=>f});var i=t(42706),s=t(28203),n=t(45994),o=t(39187);let u=require("sqlite3");var l=t.n(u);t(95507);var m=t(59449);async function c(e){let r=new m.W(e);return await r.open(),r}async function d(){return c({filename:"prisma/dev.db",driver:l().Database})}async function f(){try{let e=await d(),r=await e.all("SELECT key_id AS key, id, name, regi_date FROM User");return o.NextResponse.json(r)}catch(e){return console.error("Database Error:",e),o.NextResponse.json({error:"Failed to fetch users"},{status:500})}}async function p(e){try{let{id:r}=await e.json();if(!r)return o.NextResponse.json({error:"User ID is required"},{status:400});let t=await d();return await t.run("DELETE FROM User WHERE id = ?",r),o.NextResponse.json({message:"User deleted successfully"})}catch(e){return console.error("Database Error:",e),o.NextResponse.json({error:"Failed to delete user"},{status:500})}}let h=new i.AppRouteRouteModule({definition:{kind:s.RouteKind.APP_ROUTE,page:"/api/api_protect/users/route",pathname:"/api/api_protect/users",filename:"route",bundlePath:"app/api/api_protect/users/route"},resolvedPagePath:"/home/youngchan/Documents/bio-web/app/api/api_protect/users/route.ts",nextConfigOutput:"",userland:a}),{workAsyncStorage:w,workUnitAsyncStorage:E,serverHooks:g}=h;function b(){return(0,n.patchFetch)({workAsyncStorage:w,workUnitAsyncStorage:E})}},96487:()=>{},78335:()=>{},59449:(e,r,t)=>{"use strict";r.W=void 0;let a=t(95507),i=t(27853),s=t(63770),n=t(79330);class o{constructor(e){this.config=e,this.db=null}on(e,r){this.db.on(e,r)}getDatabaseInstance(){return this.db}open(){return new Promise((e,r)=>{let{filename:t,mode:a,driver:i}=this.config;if(null==t)throw Error("sqlite: filename cannot be null / undefined");if(!i)throw Error("sqlite: driver is not defined");a?this.db=new i(t,a,t=>{if(t)return r((0,n.formatError)(t));e()}):this.db=new i(t,t=>{if(t)return r((0,n.formatError)(t));e()})})}close(){return new Promise((e,r)=>{this.db.close(t=>{if(t)return r((0,n.formatError)(t));e()})})}configure(e,r){this.db.configure(e,r)}run(e,...r){return new Promise((t,i)=>{let o=(0,s.toSqlParams)(e,r);this.db.run(o.sql,...o.params,function(e){if(e)return i((0,n.formatError)(e));t({stmt:new a.Statement(this.stmt),lastID:this.lastID,changes:this.changes})})})}get(e,...r){return new Promise((t,a)=>{let i=(0,s.toSqlParams)(e,r);this.db.get(i.sql,...i.params,(e,r)=>{if(e)return a((0,n.formatError)(e));t(r)})})}each(e,...r){return new Promise((t,a)=>{let i=r.pop();if(!i||"function"!=typeof i)throw Error("sqlite: Last param of Database#each() must be a callback function");if(r.length>0){let e=r.pop();if("function"==typeof e)throw Error("sqlite: Database#each() should only have a single callback defined. See readme for usage.");r.push(e)}let o=(0,s.toSqlParams)(e,r);this.db.each(o.sql,...o.params,(e,r)=>{if(e)return i((0,n.formatError)(e),null);i(null,r)},(e,r)=>{if(e)return a((0,n.formatError)(e));t(r)})})}all(e,...r){return new Promise((t,a)=>{let i=(0,s.toSqlParams)(e,r);this.db.all(i.sql,...i.params,(e,r)=>{if(e)return a((0,n.formatError)(e));t(r)})})}exec(e){return new Promise((r,t)=>{let a=(0,s.toSqlParams)(e);this.db.exec(a.sql,e=>{if(e)return t((0,n.formatError)(e));r()})})}prepare(e,...r){return new Promise((t,i)=>{let n=(0,s.toSqlParams)(e,r),o=this.db.prepare(n.sql,...n.params,e=>{if(e)return i(e);t(new a.Statement(o))})})}loadExtension(e){return new Promise((r,t)=>{this.db.loadExtension(e,e=>{if(e)return t((0,n.formatError)(e));r()})})}async migrate(e){await (0,i.migrate)(this,e)}serialize(){throw Error("sqlite: Currently not implemented. Use getDatabaseInstance().serialize() instead.")}parallelize(){throw Error("sqlite: Currently not implemented. Use getDatabaseInstance().parallelize() instead.")}}r.W=o},95507:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Statement=void 0;let a=t(79330);class i{constructor(e){this.stmt=e}getStatementInstance(){return this.stmt}bind(...e){return new Promise((r,t)=>{this.stmt.bind(...e,e=>{if(e)return t((0,a.formatError)(e));r()})})}reset(){return new Promise(e=>{this.stmt.reset(()=>{e()})})}finalize(){return new Promise((e,r)=>{this.stmt.finalize(t=>{if(t)return r((0,a.formatError)(t));e()})})}run(...e){return new Promise((r,t)=>{let i=this;this.stmt.run(...e,function(e){if(e)return t((0,a.formatError)(e));r({stmt:i,lastID:this.lastID,changes:this.changes})})})}get(...e){return new Promise((r,t)=>{this.stmt.get(...e,(e,i)=>{if(e)return t((0,a.formatError)(e));r(i)})})}all(...e){return new Promise((r,t)=>{this.stmt.all(...e,(e,i)=>{if(e)return t((0,a.formatError)(e));r(i)})})}each(...e){return new Promise((r,t)=>{let i=e.pop();if(!i||"function"!=typeof i)throw Error("sqlite: Last param of Statement#each() must be a callback function");if(e.length>0){let r=e.pop();if("function"==typeof r)throw Error("sqlite: Statement#each() should only have a single callback defined. See readme for usage.");e.push(r)}this.stmt.each(...e,(e,r)=>{if(e)return i((0,a.formatError)(e),null);i(null,r)},(e,i)=>{if(e)return t((0,a.formatError)(e));r(i)})})}}r.Statement=i},79330:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.formatError=void 0,r.formatError=function(e){if(e instanceof Error)return e;if("object"==typeof e){let r=Error();for(let t in e)r[t]=e[t];return e.message&&(r.message=e.message),r}return Error(e)}},27853:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.migrate=r.readMigrations=void 0;let a=t(29021),i=t(33873);async function s(e){let r=e||i.join(process.cwd(),"migrations"),t=i.resolve(r),s=await new Promise((e,r)=>{a.readdir(t,(t,a)=>{if(t)return r(t);e(a.map(e=>e.match(/^(\d+).(.*?)\.sql$/)).filter(e=>null!==e).map(e=>({id:Number(e[1]),name:e[2],filename:e[0]})).sort((e,r)=>Math.sign(e.id-r.id)))})});if(!s.length)throw Error(`No migration files found in '${t}'.`);return Promise.all(s.map(e=>new Promise((r,s)=>{let n=i.join(t,e.filename);a.readFile(n,"utf-8",(t,a)=>{if(t)return s(t);let[i,n]=a.split(/^--\s+?down\b/im);e.up=i.replace(/^-- .*?$/gm,"").trim(),e.down=n?n.trim():"",r(e)})})))}async function n(e,r={}){r.force=r.force||!1,r.table=r.table||"migrations";let{force:t,table:a}=r,i=r.migrations?r.migrations:await s(r.migrationsPath);await e.run(`CREATE TABLE IF NOT EXISTS "${a}" (
  id   INTEGER PRIMARY KEY,
  name TEXT    NOT NULL,
  up   TEXT    NOT NULL,
  down TEXT    NOT NULL
)`);let o=await e.all(`SELECT id, name, up, down FROM "${a}" ORDER BY id ASC`),u=i[i.length-1];for(let r of o.slice().sort((e,r)=>Math.sign(r.id-e.id)))if(!i.some(e=>e.id===r.id)||t&&r.id===u.id){await e.run("BEGIN");try{await e.exec(r.down),await e.run(`DELETE FROM "${a}" WHERE id = ?`,r.id),await e.run("COMMIT"),o=o.filter(e=>e.id!==r.id)}catch(r){throw await e.run("ROLLBACK"),r}}else break;let l=o.length?o[o.length-1].id:0;for(let r of i)if(r.id>l){await e.run("BEGIN");try{await e.exec(r.up),await e.run(`INSERT INTO "${a}" (id, name, up, down) VALUES (?, ?, ?, ?)`,r.id,r.name,r.up,r.down),await e.run("COMMIT")}catch(r){throw await e.run("ROLLBACK"),r}}}r.readMigrations=s,r.migrate=n},63770:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.toSqlParams=void 0,r.toSqlParams=function(e,r=[]){return"string"==typeof e?{sql:e,params:r}:{sql:e.sql,params:e.values}}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[989,452],()=>t(36797));module.exports=a})();