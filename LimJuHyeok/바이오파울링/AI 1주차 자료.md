# AI

---

## 자료 공유

- 오든 센서 API : [https://auth.odn.us/data/docs#/전력 상태](https://auth.odn.us/data/docs#/%EC%A0%84%EB%A0%A5%20%EC%83%81%ED%83%9C)
- 데이터 분석에 사용한 코드 :
    
    
    [Untitled0.ipynb](AI%2011108556ef3880b98eccdca764cdee11/Untitled0.ipynb)
    
- 멘토님 코멘트 :

현재 device id는 yeosu01 하나뿐입니다. 그리고 url 주소나 계정 정보, API 상세, 토큰의 경우에는 보안 정보기 때문에 ChatGPT같은 서비스 쓰실 때 직접적으로 해당 정보가 포함되면 안됩니다. AI 쓰실 때는 우회적으로 물어보세요.

---

바이오파울링 정의

- 바이오파울링(biofouling)은 수중 환경에서 생물체들이 인공 구조물의 표면에 부착하여 자라는 현상을 말합니다.

1. 수온 데이터:
    - 수온은 바이오파울링 속도에 직접적인 영향을 미칩니다.
    - 일반적으로 10°C 상승 시 생화학 반응 속도가 2-3배 증가합니다(Q10 법칙).
    - 예를 들어, 20°C에서 30°C로 상승하면 바이오파울링 속도가 2-3배 빨라질 수 있습니다.
    - 그러나 극단적으로 높은 온도(예: 40°C 이상)에서는 오히려 억제될 수 있습니다.
    - 수온 변화는 계절별, 일별로 바이오파울링 패턴을 예측하는 데 중요한 지표가 됩니다.
2. 용존산소 센서 데이터:
    - 용존산소 농도는 호기성 및 혐기성 미생물의 성장에 영향을 줍니다.
    - 일반적으로 2-3 mg/L 이상의 용존산소에서 호기성 미생물이 잘 자랍니다.
    - 반면, 1 mg/L 미만에서는 혐기성 미생물이 우세해질 수 있습니다.
    - 용존산소 농도 변화는 바이오필름 내 미생물 군집 구조를 변화시킬 수 있습니다.
    - 예를 들어, 높은 용존산소 농도에서는 조류(藻類)의 성장이 촉진될 수 있습니다.
3. 수소이온농도(pH) 데이터:
    - 대부분의 해양 생물은 pH 7.5-8.5 범위에서 최적의 성장을 보입니다.
    - pH 변화는 미생물의 효소 활성에 영향을 주어 성장 속도를 조절합니다.
    - 예를 들어, pH가 7.0 이하로 떨어지면 일부 석회질 생물(따개비, 굴 등)의 부착이 억제될 수 있습니다.
    - pH 변화는 또한 금속 표면의 부식 속도에 영향을 주어 간접적으로 바이오파울링에 영향을 미칩니다.
4. 전기전도도 데이터:
    - 전기전도도는 수중 이온 농도의 지표로, 영양분 농도와 관련이 있습니다.
    - 높은 전기전도도는 일반적으로 더 많은 영양분을 의미하여 미생물 성장을 촉진할 수 있습니다.
    - 예를 들어, 1000 µS/cm 이상의 전기전도도에서는 미생물 성장이 활발할 수 있습니다.
    - 또한 전기전도도는 표면 전하에 영향을 주어 초기 바이오필름 형성 과정에 관여합니다.
5. 염도 데이터:
    - 해수의 평균 염도는 약 35 ppt(parts per thousand)입니다.
    - 염도 변화는 삼투압을 통해 미생물과 해양 생물의 성장에 직접적인 영향을 줍니다.
    - 예를 들어, 20-40 ppt 범위에서 대부분의 해양 미생물이 잘 자랍니다.
    - 그러나 염도가 45 ppt 이상으로 높아지면 일부 생물의 성장이 억제될 수 있습니다.
    - 기수역(염도 0.5-30 ppt)에서는 염도 변화에 따라 바이오파울링 군집이 크게 변할 수 있습니다.
6. TDS(총용존고형물) 데이터:
    - TDS는 수중의 용해된 무기물과 일부 유기물의 총량을 나타냅니다.
    - 일반적으로 TDS 100-1000 mg/L 범위에서 다양한 미생물이 성장할 수 있습니다.
    - TDS가 높을수록(예: >1000 mg/L) 영양분이 풍부하여 미생물 성장이 촉진될 수 있으나, 동시에 삼투압 스트레스를 줄 수 있습니다.
    - TDS 구성 성분(예: 질산염, 인산염 등)에 따라 특정 미생물의 성장이 선택적으로 촉진될 수 있습니다.

이러한 요소들은 서로 복잡하게 상호작용하며 바이오파울링에 영향을 미칩니다. 따라서 이들 데이터를 종합적으로 분석하고 현장 특성을 고려하여 바이오파울링을 예측하고 관리하는 것이 중요합니다.

이러한 데이터들은 서로 연관되어 있으며, 복합적으로 바이오파울링에 영향을 미칩니다. 따라서 이들 데이터를 종합적으로 분석하면 바이오파울링의 발생과 진행을 더 정확히 예측하고 관리할 수 있습니다.

---

# EDA 진행

1. **데이터 로드 및 기본 이해**:
    - 스마트부표에서 수집된 해양 데이터를 불러온다.
    - 데이터셋의 구조를 파악하고, 주요 컬럼들(예: 수온, 용존산소, 염도 등)을 확인한다.
    - 데이터의 형식, 결측치, 변수의 데이터 타입 등을 점검한다.
2. **기술 통계 요약**:
    - 각 변수의 기초 통계(평균, 중앙값, 표준편차, 최소값, 최대값 등)를 계산한다.
    - 이상치나 예외적인 데이터 포인트를 발견하기 위해 히스토그램, 박스 플롯 등을 활용한다.
3. **데이터 시각화**:
    - **시계열 분석**: 데이터가 시간에 따라 어떻게 변화하는지 파악하기 위해 시계열 그래프를 그린다.
    - **상관관계 분석**: 변수들 간의 관계를 분석하기 위해 상관행렬과 산점도를 활용한다. 용존산소와 염도 등의 변수들이 상호 연관되어 있는지 확인할 수 있다.
    - **비교 분석**: 바이오파울링이 부착된 상태의 데이터와 부착되지 않은 상태의 데이터를 시각화하여 차이점을 파악한다.
4. **결측치 및 이상치 처리**:
    - 결측치가 있는 경우, 그 원인과 영향을 분석하고 적절한 처리 방법을 결정한다(예: 평균 대체, 삭제 등).
    - 이상치가 모델에 미칠 영향을 고려하여, 제거하거나 다른 방법으로 처리한다.
5. **데이터 가공**:
    - 데이터를 정제하고, 필요한 경우 변수 간의 관계를 기반으로 파생 변수를 생성한다.
    - 예를 들어, 이상 데이터 탐지를 위해 이동평균선이나 지수평활을 이용해 변동을 확인할 수 있다.
6. **클러스터링 및 패턴 탐색** (선택사항):
    - 비지도 학습(예: K-Means, PCA)을 활용하여 데이터 내 숨겨진 패턴이나 구조를 찾는다. 이는 나중에 AI 모델 개발 시 유용한 인사이트를 제공할 수 있다.
7. **결과 요약 및 데이터 인사이트 도출**:
    - EDA를 통해 발견한 패턴이나 데이터의 특성을 요약한다.
    - 이상치가 발생하는 특정 조건이나 환경 요인을 도출하고, 이를 바탕으로 AI 모델을 개선하는 데 필요한 정보를 정리한다.

---

### 진행상황

1. 프로젝트에 필요한 이론적 지식 스터디 완료
2. 오든 센서 데이터 API 학습 및 이해 완료
3. 
    
    ![스크린샷 2024-09-30 오후 3.50.22.png](AI%2011108556ef3880b98eccdca764cdee11/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-09-30_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_3.50.22.png)
    
    ![스크린샷 2024-09-30 오후 3.52.48.png](AI%2011108556ef3880b98eccdca764cdee11/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-09-30_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_3.52.48.png)
    

EDA (데이터 탐색적 분석)을 진행하는 데 있어, 어려움이 존재

### 어려운 점

1. 자료 요청 : 이상치에 대한 명확한 정의 필요 / 데이터 필요
2. EDA에서 어떤 인사이트를 얻었느냐에 따라, AI 모델의 성능과 개발 계획이 달라질 것으로 예상 됨.
    
    → 하지만 데이터 분석에 대한 경험이 없어, 데이터에서 유의미한 인사이트를 어떻게 추출할 수 있을지에 대한 어려움 존재.
    

A:

이상치들이 가지고 있는 패턴과, 정상 데이터가 가지고 잇는 패턴을 비교하면서 전개

통계적 수치, 그래프 

---

# EDA (탐색적 데이터 분석) 계획

## 1. 데이터 준비 및 품질 평가

- 데이터 수집 및 통합
    - 모든 변수(수온, 용존산소, 수소이온농도, 전기전도도, 염도, TDS) 데이터 수집
    - 시간 범위: 최근 1년 데이터(?)
- 데이터 품질 검사
    - 결측치, 이상치, 중복 데이터 확인 및 처리
    - 각 변수의 데이터 타입 및 범위 검증
    - 시간 간격의 일관성 확인

## 2. 기초 통계 분석

- 각 변수별 기술 통계량 계산
    - 평균, 중앙값, 표준편차, 최소값, 최대값, 사분위수
- 분포 시각화
    - 히스토그램, 박스 플롯, KDE 플롯

## 3. 시계열 분석

- 다중 시간 스케일 분석
    - 시간별, 일별, 주별, 월별 데이터 리샘플링 및 분석
- 트렌드 분석
    - 장기 추세선 시각화
    - 이동 평균 (24시간, 7일, 30일) 계산 및 시각화
- 계절성 분석
    - 월별, 계절별 패턴 탐색
    - 시계열 분해 (트렌드, 계절성, 잔차)
- 주기성 분석
    - 자기상관함수(ACF) 및 부분자기상관함수(PACF) 분석
    - 푸리에 변환을 통한 주기성 파악

## 4. 다변량 분석

- 변수 간 상관관계 분석
    - 피어슨 상관계수 계산 및 히트맵 시각화
    - 시간 지연 상관관계 분석
- 산점도 매트릭스
    - 변수 간 관계 시각화
- 주성분 분석 (PCA)
    - 차원 축소 및 주요 변동 요인 파악

## 5. 이상치 및 변화점 분석

- 통계적 이상치 탐지
    - Z-score, IQR 방법 적용
- 변화점 탐지
    - PELT 알고리즘 적용
    - 윈도우 기반 변화점 탐지
- 이상 패턴 시각화
    - 이상치 및 변화점 표시된 시계열 플롯

## 6. 환경 조건 분석

- 수온과 다른 변수 간의 관계 분석
    - 수온 변화에 따른 다른 변수들의 변화 패턴 탐색
- 일주기 및 계절 변동 분석
    - 시간대별, 계절별 각 변수의 평균 패턴 분석

## 7. 바이오파울링 관련 패턴 탐색

- 알려진 바이오파울링 사례 분석 (있는 경우)
    - 바이오파울링 발생 전후의 데이터 패턴 비교
- 잠재적 바이오파울링 징후 정의 및 탐색
    - 전문가 의견 기반 바이오파울링 징후 정의
    - 정의된 징후와 유사한 패턴 탐색

## 8. 고급 시각화

- 인터랙티브 시계열 플롯 생성
    - Plotly를 사용한 다변량 시계열 데이터 시각화
- 3D 산점도
    - 주요 변수 간의 3차원 관계 시각화
- 지리적 시각화 (좌표 데이터 있는 경우)
    - 위치에 따른 변수 값 변화 매핑

## 9. 특성 공학 및 모델링 준비

- 시간 기반 특성 생성
    - 시간대, 요일, 월, 계절 등의 범주형 특성 생성
- 통계 기반 특성 생성
    - 이동 평균, 표준편차, 변화율 등 계산
- 상호작용 특성 생성
    - 변수 간 곱, 비율 등의 상호작용 특성 생성

## 10. 가설 수립 및 검증

- EDA 결과 기반 가설 수립
    - 바이오파울링 발생 조건에 대한 가설 수립
- 통계적 검정
    - 수립된 가설에 대한 통계적 검정 수행

## 11. 결과 종합 및 보고서 작성

- 주요 발견 사항 요약
- 바이오파울링 탐지를 위한 권장 사항 제시
- 후속 분석 및 모델링 방향 제안

---

## 메모

### 데이터 분석

1. 이상치 탐지 알고리즘 스터디 (Isolation Forest, One-class svm)
2. 데이터 가공 : 노이즈 제거, 이상치 처리, 정규화 등의 전처리 과정을 거쳐 분석이 용이한 형태로 가공
3. 데이터 탐색 분석
    - 전처리된 데이터에 대해 통계적 분석, 시각화, 패턴 탐색 등을 수행하여 데이터 내 잠재적인 특성과 구조를 이해
    - 센서 데이터의 이상치를 확인하기 위한 통계적 방법론 적용 실험

- One-class svm
    - 정의 : 하나의 클래스로 이루어진 데이터에 대해서 정상 데이터와 비정상 이상치를 나누는 평면을 찾는 비지도 학습 알고리즘

발견한 점 (실제 데이터로 검증 필요):

1. 이상치 탐지 시, 영향을 미치는 변수 파악 (수온, 용존산소, 수소이온농도, 전기전도도, 염도, TDS)
2. 

---

- 데이터 탐색 분석
    - (기초 통계 분석) 평균, 중앙값, 표준편차, 최소값, 최대값 등을 포함 기본적인 통계치를 계산
    - (데이터 시각화) 히스토그램, 박스 플롯, 산점도 그래프 등을 이용하여 데이터의 분포와 패턴을 시각적으로 표현
    - (상관관계 분석) 변수 간의 상관관계를 분석하여 어떤 변수들이 서로 관련이 있는지 분석
    - (클래스 비교 분석) 바이오파울링 부착 상태의 센서 데이터와 정상 데이터간의 통계 및 시각화 분석을 통해 특성 확인

---

성능 평가

1.  이상치 탐지 AI 모델은 정상 데이터로 One-Class 학습을 수행, 테스트 환경에
서 정상 데이터와 비정상 데이터를 제대로 분류할 수 있는지 테스트

					

	

- 테스트 환경에서 One-Class 이상 탐지 모델의 정확도를 AUC, F1-Score 등의 지표로 AI의 성능을 측정

---