# Aicoss 보고서 제출 내용

### 참고 자료

[두경부_초음파영상을_이용한_진단알고리즘_개발_6조.pptx](Aicoss%20%E1%84%87%E1%85%A9%E1%84%80%E1%85%A9%E1%84%89%E1%85%A5%20%E1%84%8C%E1%85%A6%E1%84%8E%E1%85%AE%E1%86%AF%20%E1%84%82%E1%85%A2%E1%84%8B%E1%85%AD%E1%86%BC%2012308556ef3880318693f745bcffc759/%25E1%2584%2583%25E1%2585%25AE%25E1%2584%2580%25E1%2585%25A7%25E1%2586%25BC%25E1%2584%2587%25E1%2585%25AE_%25E1%2584%258E%25E1%2585%25A9%25E1%2584%258B%25E1%2585%25B3%25E1%2586%25B7%25E1%2584%2591%25E1%2585%25A1%25E1%2584%258B%25E1%2585%25A7%25E1%2586%25BC%25E1%2584%2589%25E1%2585%25A1%25E1%2586%25BC%25E1%2584%258B%25E1%2585%25B3%25E1%2586%25AF_%25E1%2584%258B%25E1%2585%25B5%25E1%2584%258B%25E1%2585%25AD%25E1%2586%25BC%25E1%2584%2592%25E1%2585%25A1%25E1%2586%25AB_%25E1%2584%258C%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2583%25E1%2585%25A1%25E1%2586%25AB%25E1%2584%258B%25E1%2585%25A1%25E1%2586%25AF%25E1%2584%2580%25E1%2585%25A9%25E1%2584%2585%25E1%2585%25B5%25E1%2584%258C%25E1%2585%25B3%25E1%2586%25B7_%25E1%2584%2580%25E1%2585%25A2%25E1%2584%2587%25E1%2585%25A1%25E1%2586%25AF_6%25E1%2584%258C%25E1%2585%25A9.pptx)

1. 문제점 신청 ~ 6.개선된 성능 지표 및 솔루션제안

---

### 1. 문제점 신청

□ **바이오파울링 탐지의 필요성**

○ 해양 환경에서 센서가 바이오파울링에 의해 오염되면 센서 성능이 저하되어 데이터의 정확도가 떨어지는 문제가 발생.

○ 이러한 센서 데이터의 정확도 저하는 해양 모니터링 시스템의 효율성을 감소시키고, 결과적으로 중요한 해양 환경 데이터를 신뢰할 수 없게 만듦.

□ **현재의 한계**

○ 기존의 바이오파울링 탐지 방법은 주로 물리적 검사를 기반으로 하여, 비용이 높고 시간이 많이 소요됨.

○ 데이터 기반의 실시간 바이오파울링 탐지 모델의 부재로, 바이오파울링 발생을 초기에 감지하고 예방하는 것이 어려움.

□ **센서 데이터 활용 문제**

○ 다양한 센서(수온, 용존산소, 전기전도도 등)에서 수집되는 데이터의 변동성을 정확히 분석하지 못하면 바이오파울링 여부를 정확히 탐지하지 못할 가능성 존재.

□ **목표**

○ 바이오파울링 탐지를 위한 AI 모델을 개발하여 데이터 분석을 통해 바이오파울링 발생 여부를 자동으로 탐지하고 알림을 제공함으로써 센서 유지보수 비용과 시간을 절감하고 시스템의 신뢰성을 향상시키는 것.

---

### 2. 문제성능 지표탐색

□ **바이오파울링 탐지 모델의 주요 성능 지표**

○ **민감도(Sensitivity, Recall)**: 실제 바이오파울링 발생 중 탐지된 비율(탐지 능력).

- 계산식: TP / (TP + FN)

- 민감도가 높을수록 바이오파울링 발생을 놓치지 않음.

○ **정밀도(Precision)**: 모델이 바이오파울링이라고 예측한 경우 중 실제로 바이오파울링이 맞는 비율.

- 계산식: TP / (TP + FP)

- 정밀도가 높을수록 잘못된 경고를 줄임.

○ **F1 스코어(F1 Score)**: 민감도와 정밀도의 조화 평균으로, 두 지표 간의 균형을 평가.

- 계산식: 2 * (Precision * Recall) / (Precision + Recall)

- 바이오파울링 탐지에서 민감도와 정밀도의 균형이 중요한 경우에 적합한 지표.

○ **AUC (ROC 곡선 아래 면적)**: True Positive Rate(민감도)와 False Positive Rate(1 - 특이도) 사이의 관계를 그래프로 표현한 지표.

- AUC 값이 1에 가까울수록 모델이 더 뛰어난 분류 성능을 보임.

---

### **3. 문제점 재정의**

□ **이상치 레이블링 문제**

○ 9월 16일부터 Wando1 지역에서 바이오파울링이 발생한 사실만 알고 있으며, 이상치로 명확하게 레이블링된 데이터가 없음.

○ 이상치 구간을 제공받지 못했기 때문에 정상과 이상 상태를 구분하는 것이 어려움.

○ 비지도 학습 또는 반지도 학습 기법을 통해 이상 패턴을 탐지할 필요가 있음.

□ **데이터 수집 및 전처리 문제**

○ 센서에서 수집된 데이터(수온, 용존산소, 전기전도도 등)는 **시간 정보가 Unix 타임스탬프** 형식으로 제공되어 사람이 읽기 어려운 형태로 저장됨. 이를 사람이 이해할 수 있는 형식으로 변환하는 과정이 필요함.

○ **각 지역별 센서마다 데이터 전송 형식(json)의 차이**가 존재하여, 지역별로 일관된 데이터 처리 방식을 적용하기 어려움. 좌표 정보는 위도와 경도(`latitude`, `longitude`)로 분리하고, 온도나 용존 산소 값은 값과 단위를 분리하는 전처리 작업이 필요함.

□ **이상 패턴의 복잡성**

○ 바이오파울링은 수온, 염도 등 여러 환경적 요인에 따라 발생하며, 이러한 요인 간의 상관관계가 매우 복잡하여 단순한 패턴 분석만으로는 이상 상태를 정확히 탐지하기 어려움.

○ 데이터 변동성이 크기 때문에 이상 상태가 언제 발생하는지에 대한 명확한 패턴을 찾는 것이 어려움.

□ **모델 성능의 한계**

○ 이상 탐지 모델의 성능은 민감도와 정밀도 간의 트레이드오프가 발생.

- 민감도를 높이면 오탐지가 증가하여 불필요한 경고가 빈번하게 발생.

- 정밀도를 높이면 실제 이상 상태를 놓칠 가능성이 커짐.

□ **모델 개선의 필요성**

○ 레이블이 없는 이상 탐지를 위해 **비지도 학습** 또는 **반지도 학습** 기법(예: One-Class SVM, Isolation Forest)을 적용해야 함.

○ 센서 데이터의 변동성을 처리할 수 있는 이상 탐지 모델을 도입하여 성능을 개선해야 함.

○ 데이터 증강을 통해 모델이 다양한 상황에서 이상 상태를 탐지할 수 있도록 학습 데이터를 확장할 필요가 있음.

---

### 4. 샘플 데이터 결점 제거

□ **데이터 형식 변환 및 통일**

○ 원래 데이터는 복합적인 json 형식으로 제공되어, 각 값을 개별적으로 분리하는 전처리가 필요했음.

○ 이러한 형식 통일 작업을 통해 분석과 학습을 위한 일관된 데이터 구조를 구축하였음.

- **좌표 정보**: `latitude`와 `longitude`로 분리하여 저장.

- **온도 값**: `temperature_value`와 `temperature_unit`으로 분리하여 각 값과 단위를 개별 컬럼으로 처리.

- **전기전도도(Conductivity)**, **염도(Salinity)**, **총용존고형물(TDS)** 등의 값을 각각 분리하여 `value`와 `unit`으로 처리함.

- **용존 산소 값(oxygen_mpl)**: `oxygen_mpl_value`, `oxygen_mpl_unit` 등으로 분리하여 처리.

- **pH 및 산화환원전위(Redox)** 값도 `ph_value`, `ph_unit`, `redox_value`, `redox_unit`으로 분리하여 처리.

□ **시간 정보 처리**

○ 시간 정보가 Unix 타임스탬프 형식으로 제공되었기 때문에, 이를 사람이 읽을 수 있는 시간 형식(`date_time`)으로 변환하였음.

---

### **5. 학습 데이터셋 정리**

□ **데이터 구성 및 출처**

- **Wando1**과 **Wando2** 지역의 해양 환경 센서 데이터를 사용
- 각 센서는 **온도(°C)**, **용존 산소(mg/L)**, **전기전도도(µS/cm)**, **염도(g/Kg)**, **총용존고형물(TDS, ppm)**, **pH** 값 등을 측정.

□ **수집된 주요 데이터 변수**

- **온도(Temperature)**
- **용존 산소(Dissolved Oxygen)**
- **전기전도도(Conductivity)**
- **염도(Salinity)**
- **총용존고형물(TDS)**
- **pH**

□ **시간 정보 변환**

- 시간 정보는 Unix 타임스탬프로 제공되었으며, 이를 사람이 이해하기 쉬운 형식인 'YYYY-MM-DD HH:MM:SS'로 변환하여 분석에 활용.

□ **학습 데이터 구성 및 레이블링**

○ **바이오파울링 발생 시점 레이블링**

- 2024년 9월 16일부터 **Wando1** 지역에서 바이오파울링이 발생
- 해당 시점을 기준으로 데이터를 정상 상태(9월 16일 이전)와 이상 상태(9월 16일 이후)로 정의
- Wando2 지역의 데이터는 바이오파울링이 발생하지 않았으므로, 모든 데이터를 정상 상태로 간주.

○ **비지도 학습 적용**

- 이상치에 대한 명확한 레이블이 부족한 상황에서, **비지도 학습** 또는 **반지도 학습** 기법을 적용하여 데이터를 학습할 예정.
- 대표적인 비지도 학습 기법인 **Isolation Forest**와 **One-Class SVM**을 통해 이상치를 탐지하고, 학습 데이터를 기반으로 이상치를 탐지.

□ **데이터 시각화 및 탐색적 분석**

○ **시계열 패턴 분석**: 데이터를 시간에 따라 분석하여, 바이오파울링 발생 전후의 패턴을 파악.

- 용존 산소: 바이오파울링 직후 급격히 감소하는 경향을 보임.

![image.png](Aicoss%20%E1%84%87%E1%85%A9%E1%84%80%E1%85%A9%E1%84%89%E1%85%A5%20%E1%84%8C%E1%85%A6%E1%84%8E%E1%85%AE%E1%86%AF%20%E1%84%82%E1%85%A2%E1%84%8B%E1%85%AD%E1%86%BC%2012308556ef3880318693f745bcffc759/image.png)

○ **센서 간 상관관계 분석**: 온도, 용존 산소, 염도 등 센서 값들 간의 상관관계를 파악하여 바이오파울링에 영향을 미치는 주요 변수를 확인함.

- **Wando1 :** 용존 산소와 전기전도도(상관계수 0.8), 용존 산소와 tds(상관계수 0.8) 간의 강한 상관관계가 있어, 바이오파울링 발생 시 이들 변수가 중요한 영향을 미칠 가능성이 높음을 파악.

![image.png](Aicoss%20%E1%84%87%E1%85%A9%E1%84%80%E1%85%A9%E1%84%89%E1%85%A5%20%E1%84%8C%E1%85%A6%E1%84%8E%E1%85%AE%E1%86%AF%20%E1%84%82%E1%85%A2%E1%84%8B%E1%85%AD%E1%86%BC%2012308556ef3880318693f745bcffc759/image%201.png)

○ **변동성 분석**: 각 센서 값의 변동성을 분석하여, 바이오파울링 발생 직전에 변동성이 급증하는지 확인함.

- **Wando1 :**
    - 용존 산소 : 바이오파울링 발생 전 급격히 증가하며, 중요한 탐지 신호로 활용될 수 있음을 파악
        
        ![image.png](Aicoss%20%E1%84%87%E1%85%A9%E1%84%80%E1%85%A9%E1%84%89%E1%85%A5%20%E1%84%8C%E1%85%A6%E1%84%8E%E1%85%AE%E1%86%AF%20%E1%84%82%E1%85%A2%E1%84%8B%E1%85%AD%E1%86%BC%2012308556ef3880318693f745bcffc759/image%202.png)
        
    - 전기전도도 : 바이오파울링 발생 1주일 전부터 변동성이 0으로 수렴함을 발견
        
        ![image.png](Aicoss%20%E1%84%87%E1%85%A9%E1%84%80%E1%85%A9%E1%84%89%E1%85%A5%20%E1%84%8C%E1%85%A6%E1%84%8E%E1%85%AE%E1%86%AF%20%E1%84%82%E1%85%A2%E1%84%8B%E1%85%AD%E1%86%BC%2012308556ef3880318693f745bcffc759/image%203.png)
        
    - 총용존고형물(TDS) : 바이오파울링 발생 1주일 전부터 변동성이 0으로 수렴함을 발견
        
        ![image.png](Aicoss%20%E1%84%87%E1%85%A9%E1%84%80%E1%85%A9%E1%84%89%E1%85%A5%20%E1%84%8C%E1%85%A6%E1%84%8E%E1%85%AE%E1%86%AF%20%E1%84%82%E1%85%A2%E1%84%8B%E1%85%AD%E1%86%BC%2012308556ef3880318693f745bcffc759/image%204.png)
        
    - **온도:** 두 지역에서 약간의 변동성을 보이지만, 상대적으로 다른 지표에 비해 중요도가 낮을 수 있음을 파악
        
        ![image.png](Aicoss%20%E1%84%87%E1%85%A9%E1%84%80%E1%85%A9%E1%84%89%E1%85%A5%20%E1%84%8C%E1%85%A6%E1%84%8E%E1%85%AE%E1%86%AF%20%E1%84%82%E1%85%A2%E1%84%8B%E1%85%AD%E1%86%BC%2012308556ef3880318693f745bcffc759/image%205.png)
        
        ![image.png](Aicoss%20%E1%84%87%E1%85%A9%E1%84%80%E1%85%A9%E1%84%89%E1%85%A5%20%E1%84%8C%E1%85%A6%E1%84%8E%E1%85%AE%E1%86%AF%20%E1%84%82%E1%85%A2%E1%84%8B%E1%85%AD%E1%86%BC%2012308556ef3880318693f745bcffc759/image%206.png)
        
    

○ **바이오파울링 발생 전의 패턴 탐지**: **바이오파울링 발생 시점**을 기준으로 데이터를 나누고, 발생 직전에 센서 데이터에서 나타나는 **패턴**을 분석. 이를 통해 바이오파울링이 발생하기 전에 데이터에서 어떤 전조 현상이 있는지 확인

- **주요 패턴**: 바이오파울링 발생 직전 9월 13일에서 9월 15일 사이에 **전기전도도**, **TDS** 값에서 급격한 변화가 발생함을 파악
    
    ![image.png](Aicoss%20%E1%84%87%E1%85%A9%E1%84%80%E1%85%A9%E1%84%89%E1%85%A5%20%E1%84%8C%E1%85%A6%E1%84%8E%E1%85%AE%E1%86%AF%20%E1%84%82%E1%85%A2%E1%84%8B%E1%85%AD%E1%86%BC%2012308556ef3880318693f745bcffc759/image%207.png)
    

---

### **6. 개선된 성능지표 및 솔루션 제안**

□ **개선된 성능지표**

○ **AUC (Area Under Curve)**

- 목표치: **80%**

○ **F1 Score**

- 목표치: **80%**

○ **Recall (민감도)**

- 목표치: **85%**

○ **Precision (정밀도)**

- 목표치: **80%**